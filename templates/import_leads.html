<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>{% block title %}Upload{% endblock %}</title>
    <meta
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
      name="viewport"
    />


    <!-- Fonts and icons -->
  <!-- JS Files -->
<script src="{{ url_for('static', filename='js/plugin/webfont/webfont.min.js') }}"></script>
<script>
  WebFont.load({
    google: { families: ["Public Sans:300,400,500,600,700"] },
    custom: {
      families: [
        "Font Awesome 5 Solid",
        "Font Awesome 5 Regular",
        "Font Awesome 5 Brands",
        "simple-line-icons",
      ],
      urls: ["{{ url_for('static', filename='css/fonts.min.css') }}"],
    },
    active: function () {
      sessionStorage.fonts = true;
    },
  });
</script>

<!-- CSS Files -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/plugins.min.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/kaiadmin.min.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />




</head>
<body>

    <!-- Upload Box -->
    <form id="upload-form" action="/upload" method="POST" enctype="multipart/form-data">
        <div class="upload-box" id="upload-box">
                        <img src="{{ url_for('static', filename='image/csvicon.svg') }}" alt="CSV Icon">

            <p>
Upload CSV</p>
            <input type="file" id="file-input" name="file" accept=".csv">
        </div>
    </form>





    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/core/jquery-3.7.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/core/popper.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/core/bootstrap.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/kaiadmin.min.js') }}"></script>
      <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
    <script>
        const uploadBox = document.getElementById('upload-box');
        const fileInput = document.getElementById('file-input');
        const uploadForm = document.getElementById('upload-form');

        // Handle click on the upload box to trigger the file input
        uploadBox.addEventListener('click', () => {
            fileInput.click();
        });

        // Handle file selection via input field
        fileInput.addEventListener('change', () => {
            uploadForm.submit();
        });

        // Handle drag-and-drop functionality
        uploadBox.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadBox.style.borderColor = '#0056b3';
        });

        uploadBox.addEventListener('dragleave', () => {
            uploadBox.style.borderColor = '#007bff';
        });

        uploadBox.addEventListener('drop', (e) => {
            e.preventDefault();
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                fileInput.files = files; // Set files to the input
                uploadForm.submit(); // Submit the form automatically
            }
        });
    </script>

</body>
</html>
